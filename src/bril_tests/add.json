{
  "functions": [
    {
      "args": [
        { "name": "this", "type": { "ptr": "int" } },
        { "name": "number", "type": "int" }
      ],
      "instrs": [
        { "args": ["number"], "op": "print" },
        { "args": ["this"], "op": "ret" }
      ],
      "name": "IO__out_int",
      "type": { "ptr": "int" }
    },
    {
      "name": "Book__initBook",
      "args": [
        { "name": "this", "type": { "ptr": "int" } },
        { "name": "title_p", "type": "int" },
        { "name": "author_p", "type": "int" }
      ],
      "instrs": [
        { "dest": "temp_0", "op": "const", "type": "int", "value": 0 },
        {
          "args": ["this", "temp_0"],
          "dest": "attribute_index_0",
          "op": "ptradd",
          "type": { "ptr": "int" }
        },
        { "args": ["attribute_index_0", "title_p"], "op": "store" },
        { "dest": "temp_1", "op": "const", "type": "int", "value": 1 },
        {
          "args": ["this", "temp_1"],
          "dest": "attribute_index_1",
          "op": "ptradd",
          "type": { "ptr": "int" }
        },
        { "args": ["attribute_index_1", "author_p"], "op": "store" },
        { "args": ["this"], "op": "ret" }
      ],
      "type": { "ptr": "int" }
    },
    {
      "name": "Book__print",
      "args": [{ "name": "this", "type": { "ptr": "int" } }],
      "instrs": [
        { "dest": "temp_3", "op": "const", "type": "int", "value": 0 },
        {
          "args": ["this", "temp_3"],
          "dest": "attribute_index_0",
          "op": "ptradd",
          "type": { "ptr": "int" }
        },
        {
          "args": ["attribute_index_0"],
          "dest": "title",
          "op": "load",
          "type": "int"
        },
        {
          "op": "call",
          "type": { "ptr": "int" },
          "funcs": ["IO__out_int"],
          "args": ["this", "title"],
          "dest": "temp_2"
        },
        { "dest": "temp_5", "op": "const", "type": "int", "value": 1 },
        {
          "args": ["this", "temp_5"],
          "dest": "attribute_index_1",
          "op": "ptradd",
          "type": { "ptr": "int" }
        },
        {
          "args": ["attribute_index_1"],
          "dest": "author",
          "op": "load",
          "type": "int"
        },
        {
          "op": "call",
          "type": { "ptr": "int" },
          "funcs": ["IO__out_int"],
          "args": ["this", "author"],
          "dest": "temp_4"
        },
        { "args": ["this"], "op": "ret" }
      ],
      "type": { "ptr": "int" }
    },
    {
      "name": "Book__constructor",
      "instrs": [
        { "dest": "this_0", "op": "const", "type": "int", "value": 0 },
        {
          "args": ["this", "this_0"],
          "dest": "attribute_index_0",
          "op": "ptradd",
          "type": { "ptr": "int" }
        },
        { "dest": "this_0", "op": "const", "type": "int", "value": 1 },
        {
          "args": ["this", "this_0"],
          "dest": "attribute_index_1",
          "op": "ptradd",
          "type": { "ptr": "int" }
        },
        { "args": ["this"], "op": "ret" }
      ],
      "args": [{ "name": "this", "type": { "ptr": "int" } }],
      "type": { "ptr": "int" }
    },
    {
      "name": "Article__initArticle",
      "args": [
        { "name": "this", "type": { "ptr": "int" } },
        { "name": "title_p", "type": "int" },
        { "name": "author_p", "type": "int" },
        { "name": "per_title_p", "type": "int" }
      ],
      "instrs": [
        {
          "op": "call",
          "type": { "ptr": "int" },
          "funcs": ["Book__initBook"],
          "args": ["this", "title_p", "author_p"],
          "dest": "temp_6"
        },
        { "dest": "temp_7", "op": "const", "type": "int", "value": 2 },
        {
          "args": ["this", "temp_7"],
          "dest": "attribute_index_2",
          "op": "ptradd",
          "type": { "ptr": "int" }
        },
        { "args": ["attribute_index_2", "per_title_p"], "op": "store" },
        { "args": ["this"], "op": "ret" }
      ],
      "type": { "ptr": "int" }
    },
    {
      "name": "Article__print",
      "args": [{ "name": "this", "type": { "ptr": "int" } }],
      "instrs": [
        {
          "op": "call",
          "type": { "ptr": "int" },
          "funcs": ["Book__print"],
          "args": ["this"],
          "dest": "temp_8"
        },
        { "dest": "temp_10", "op": "const", "type": "int", "value": 2 },
        {
          "args": ["this", "temp_10"],
          "dest": "attribute_index_2",
          "op": "ptradd",
          "type": { "ptr": "int" }
        },
        {
          "args": ["attribute_index_2"],
          "dest": "per_title",
          "op": "load",
          "type": "int"
        },
        {
          "op": "call",
          "type": { "ptr": "int" },
          "funcs": ["IO__out_int"],
          "args": ["this", "per_title"],
          "dest": "temp_9"
        },
        { "args": ["this"], "op": "ret" }
      ],
      "type": { "ptr": "int" }
    },
    {
      "name": "Article__constructor",
      "instrs": [
        { "dest": "this_6", "op": "const", "type": "int", "value": 2 },
        {
          "args": ["this", "this_6"],
          "dest": "attribute_index_2",
          "op": "ptradd",
          "type": { "ptr": "int" }
        },
        { "args": ["this"], "op": "ret" }
      ],
      "args": [{ "name": "this", "type": { "ptr": "int" } }],
      "type": { "ptr": "int" }
    },
    {
      "name": "main",
      "args": [],
      "instrs": [
        { "dest": "size", "op": "const", "type": "int", "value": 1 },
        {
          "args": ["size"],
          "dest": "this",
          "op": "alloc",
          "type": { "ptr": "int" }
        },
        {
          "op": "call",
          "type": { "ptr": "int" },
          "funcs": ["Main__constructor"],
          "args": ["this"],
          "dest": "this"
        },
        { "dest": "new_11_size", "op": "const", "type": "int", "value": 3 },
        {
          "args": ["new_11_size"],
          "dest": "new_11",
          "op": "alloc",
          "type": { "ptr": "int" }
        },
        {
          "op": "call",
          "type": { "ptr": "int" },
          "funcs": ["Article__constructor"],
          "args": ["new_11"],
          "dest": "new_11"
        },
        { "dest": "temp_12", "op": "const", "type": "int", "value": 100 },
        { "dest": "temp_13", "op": "const", "type": "int", "value": 7 },
        { "dest": "temp_14", "op": "const", "type": "int", "value": 10 },
        {
          "op": "call",
          "type": { "ptr": "int" },
          "funcs": ["Article__initArticle"],
          "args": ["new_11", "temp_12", "temp_13", "temp_14"],
          "dest": "temp_11"
        },
        {
          "args": ["temp_11"],
          "dest": "a_book",
          "op": "id",
          "type": { "ptr": "int" }
        },
        {
          "op": "call",
          "type": { "ptr": "int" },
          "funcs": ["Article__print"],
          "args": ["a_book"],
          "dest": "temp_15"
        },
        { "args": ["this"], "op": "free" },
        { "args": ["temp_15"], "op": "ret" }
      ],
      "type": { "ptr": "int" }
    },
    {
      "name": "Main__constructor",
      "instrs": [{ "args": ["this"], "op": "ret" }],
      "args": [{ "name": "this", "type": { "ptr": "int" } }],
      "type": { "ptr": "int" }
    }
  ]
}
